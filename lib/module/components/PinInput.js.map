{"version":3,"names":["React","useState","createRef","View","StyleSheet","colors","FormItem","refs","PinInput","props","pin","setPin","Array","numOfInput","fill","activeInput","setActiveInput","length","i","push","changeFocus","index","text","current","focus","styles","wrapper","style","map","_","formItem","onChangeText","toString","replace","input","borderBottomColor","black","lightgrey","textInputStyle","status","message","autoFocus","create","flexDirection","justifyContent","maxWidth","borderBottomWidth","textAlign","fontSize","backgroundColor","paddingLeft","paddingRight","minWidth"],"sources":["PinInput.tsx"],"sourcesContent":["import React, { useState, createRef, RefObject } from 'react';\nimport {\n  View,\n  StyleSheet,\n  TextInput,\n  TextStyle,\n  ViewStyle,\n  StyleProp,\n  TextInputProps,\n} from 'react-native';\n\nimport { colors } from '../colors';\nimport FormItem from './FormItem';\n\ninterface Props extends TextInputProps {\n  numOfInput: number;\n  onChangeText: (pin: string) => void;\n  textInputStyle?: TextStyle;\n  style?: StyleProp<ViewStyle>;\n  autoFocus?: boolean;\n}\n\nconst refs: RefObject<TextInput>[] = [];\nexport default function PinInput(props: Props) {\n  const [pin, setPin] = useState(Array(props.numOfInput).fill(''));\n  const [activeInput, setActiveInput] = useState(0);\n  if (!refs.length) {\n    for (let i = 0; i < pin.length; i++) {\n      refs.push(createRef());\n    }\n  }\n\n  const changeFocus = (index: number, text: string) => {\n    if (text) refs[index + 1]?.current?.focus();\n    else refs[index - 1]?.current?.focus();\n  };\n\n  return (\n    <View style={[styles.wrapper, props.style]}>\n      {pin.map((_, index) => (\n        <FormItem\n          {...props}\n          value={pin[index]}\n          style={styles.formItem}\n          onChangeText={(text) => {\n            pin[index] = text;\n            setPin([...pin]);\n            changeFocus(index, text);\n            props.onChangeText(pin.toString().replace(/,/g, ''));\n          }}\n          textInputStyle={[\n            styles.input,\n            {\n              borderBottomColor:\n                activeInput === index ? colors.black : colors.lightgrey,\n            },\n            props.textInputStyle,\n          ]}\n          maxLength={1}\n          key={index}\n          ref={refs[index]}\n          onFocus={() => setActiveInput(index)}\n          customValidation={() => ({ status: true, message: '' })}\n          autoFocus={props.autoFocus && index === 0}\n        />\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  input: {\n    maxWidth: 40,\n    borderBottomWidth: 1.5,\n    textAlign: 'center',\n    fontSize: 20,\n  },\n  formItem: {\n    backgroundColor: 'transparent',\n    paddingLeft: 0,\n    paddingRight: 0,\n    minWidth: 40,\n  },\n});\n"],"mappings":"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"}